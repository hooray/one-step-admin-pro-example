
/**
 * 由 One-step-admin 提供技术支持
 * Powered by One-step-admin
 * https://one-step-admin.hurui.me
 */
    
import{_ as j}from"./index.vue_vue_type_script_setup_true_lang-DjF5febJ.js";import{e as F,H as z,I as M,f as B,G as T,J as v,D as A,K as P,o as f,h as N,w as t,d as x,t as R,a as e,u as n,P as G,c as k,F as L,g as K,L as q,x as Q,b,M as W,_ as J,r as u,E as X}from"./index-mFYeOg6f.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-ChZ28WVx.js";import{_ as Z}from"./HDropdown--isBsu_i.js";import{_ as ee}from"./HDialog.vue_vue_type_script_setup_true_lang-BBPD2YzX.js";import{_ as te}from"./HButton.vue_vue_type_script_setup_true_lang-BW-qOQFl.js";import{_ as oe}from"./HInput.vue_vue_type_script_setup_true_lang-BLDSKI4O.js";import{S as le}from"./sortable.esm-C83syoBY.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ne}from"./index.vue_vue_type_script_setup_true_lang-Buj60MwG.js";const se={class:"w-40"},re={class:"flex items-center justify-between px-4 py-3"},de={class:"text-sm font-bold"},ie=["title","onClick"],ue={class:"name flex-1 truncate pe-4"},me={key:1,flex:"center col","py-6":"","text-stone-5":""},pe=F({name:"StorageBox",__name:"index",props:{data:{},name:{},title:{default:"储存箱"}},emits:["takeOut"],setup(H,{emit:C}){const s=H,E=C,$=z(),p=M(),o=B([]),d=B({visible:!1,name:""});T(()=>{c()});function I(){d.value.name?(o.value.push({title:d.value.name,content:JSON.stringify(s.data)}),m(),d.value.visible=!1,d.value.name=""):W.warning("名称不能为空",{zIndex:2e3})}function S(l){E("takeOut",JSON.parse(l))}function V(l){o.value.splice(l,1),m()}function D(l,a){o.value.splice(l,0,o.value.splice(a,1)[0]),m()}function m(){const l=v.session.has("storageBoxData")?JSON.parse(v.session.get("storageBoxData")):{};l[p.account]=l[p.account]||{},l[p.account][s.name]=o.value,v.session.set("storageBoxData",JSON.stringify(l))}function c(){v.session.has("storageBoxData")&&(o.value=JSON.parse(v.session.get("storageBoxData"))[p.account][s.name]||[])}const g=A("containerRef");return P(()=>g.value,l=>{l&&new le(l,{animation:200,ghostClass:"draggable-ghost",draggable:".draggable-item",onUpdate:a=>{a.newIndex!==void 0&&a.oldIndex!==void 0&&D(a.newIndex,a.oldIndex)}})}),(l,a)=>{const _=J,h=oe,y=te,O=ee,U=Z;return f(),N(U,{placement:"bottom"},{dropdown:t(()=>[x("div",se,[x("div",re,[x("div",de,R(l.title),1),e(_,{name:"i-ep:plus",class:"cursor-pointer text-base",onClick:a[3]||(a[3]=i=>n(d).visible=!0)})]),e(n(G),{options:{scrollbars:{autoHide:"leave",autoHideDelay:300}},defer:"",class:"max-h-200px"},{default:t(()=>[n(o).length>0?(f(),k("div",{key:0,ref_key:"containerRef",ref:g,class:"flex flex-col gap-2 px-4 pb-4"},[(f(!0),k(L,null,K(n(o),(i,w)=>(f(),k("div",{key:`${w}_${i.title}`,title:i.title,class:"draggable-item relative flex cursor-pointer items-center rounded px-2 py-2 ring-1 ring-stone-3 ring-inset hover-bg-stone-1 dark-ring-stone-7 dark-hover-bg-dark/50",onClick:r=>S(i.content)},[x("div",ue,R(i.title),1),e(_,{name:"i-ep:delete",size:14,class:"right-1 h-5 w-6 rounded-full text-stone-3 !absolute dark-text-stone-7 hover-text-stone-7 dark-hover-text-stone-3",onClick:q(r=>V(w),["stop"])},null,8,["onClick"])],8,ie))),128))],512)):(f(),k("div",me,[e(_,{name:"i-tabler:mood-empty",size:40}),a[6]||(a[6]=x("p",{"m-2":"","text-base":""}," 空空如也 ",-1))]))]),_:1})])]),default:t(()=>[n($).default?Q(l.$slots,"default",{key:0},void 0,!0):(f(),N(_,{key:1,name:"i-ep:message-box",size:16})),e(O,{modelValue:n(d).visible,"onUpdate:modelValue":a[2]||(a[2]=i=>n(d).visible=i),title:"请输入一个方便记忆的名称"},{footer:t(()=>[e(y,{outline:"",class:"mr-2",onClick:a[1]||(a[1]=i=>n(d).visible=!1)},{default:t(()=>a[4]||(a[4]=[b(" 取消 ")])),_:1}),e(y,{onClick:I},{default:t(()=>a[5]||(a[5]=[b(" 确定 ")])),_:1})]),default:t(()=>[e(h,{modelValue:n(d).name,"onUpdate:modelValue":a[0]||(a[0]=i=>n(d).name=i),class:"w-full!"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:3})}}}),ce=ae(pe,[["__scopeId","data-v-2e6ebb9c"]]),ye=F({name:"ComponentExampleStorageBox",__name:"index",setup(H){const C=B([]),s=B({name:"",department_id:"",department_job_id:"",role_id:"",check1:!1,check2:!1});function E(){X.info("模拟触发搜索")}function $(p){s.value=p,E()}return(p,o)=>{const d=ne,I=u("ElAlert"),S=ce,V=Y,D=u("ElInput"),m=u("ElFormItem"),c=u("ElCol"),g=u("ElRow"),l=u("ElOption"),a=u("ElSelect"),_=u("ElCheckbox"),h=J,y=u("ElButton"),O=u("ElText"),U=u("ElSpace"),i=u("ElForm"),w=j;return f(),k("div",null,[e(d,{title:"储存箱",content:"StorageBox"}),e(V,{title:"你可以将页面中的数据（object/array）储存到该组件内，并在需要的时候取出来"},{default:t(()=>[e(I,{"show-icon":"",title:"该组件需要搭配业务场景使用。",closable:!1}),e(S,{data:n(C),name:"box1",style:{"margin-top":"10px"}},null,8,["data"])]),_:1}),e(V,{title:"推荐场景：具有复杂筛选项的页面，并记录常用的筛选条件"},{default:t(()=>[e(w,{"show-toggle":!1},{default:t(()=>[e(i,{model:n(s),size:"default","label-width":"120px"},{default:t(()=>[e(g,null,{default:t(()=>[e(c,{span:12},{default:t(()=>[e(m,{label:"姓名 / 手机号"},{default:t(()=>[e(D,{modelValue:n(s).name,"onUpdate:modelValue":o[0]||(o[0]=r=>n(s).name=r),placeholder:"请输入姓名或者手机号，支持模糊查询",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(g,null,{default:t(()=>[e(c,{span:6},{default:t(()=>[e(m,{label:"部门"},{default:t(()=>[e(a,{modelValue:n(s).department_id,"onUpdate:modelValue":o[1]||(o[1]=r=>n(s).department_id=r),clearable:"",placeholder:"请选择部门"},{default:t(()=>[e(l,{label:"技术部",value:1}),e(l,{label:"设计部",value:2}),e(l,{label:"行政部",value:3})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(c,{span:6},{default:t(()=>[e(m,{label:"职位"},{default:t(()=>[e(a,{modelValue:n(s).department_job_id,"onUpdate:modelValue":o[2]||(o[2]=r=>n(s).department_job_id=r),clearable:"",placeholder:"请选择职位"},{default:t(()=>[e(l,{label:"程序员",value:1}),e(l,{label:"设计师",value:2}),e(l,{label:"人事",value:3})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(c,{span:6},{default:t(()=>[e(m,{label:"角色"},{default:t(()=>[e(a,{modelValue:n(s).role_id,"onUpdate:modelValue":o[3]||(o[3]=r=>n(s).role_id=r),clearable:"",placeholder:"请选择角色"},{default:t(()=>[e(l,{label:"主管",value:1}),e(l,{label:"普通职员",value:2})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(g,null,{default:t(()=>[e(c,{span:24},{default:t(()=>[e(m,{label:"角色"},{default:t(()=>[e(_,{modelValue:n(s).check1,"onUpdate:modelValue":o[4]||(o[4]=r=>n(s).check1=r)},{default:t(()=>o[6]||(o[6]=[b(" 备选项 ")])),_:1},8,["modelValue"]),e(_,{modelValue:n(s).check2,"onUpdate:modelValue":o[5]||(o[5]=r=>n(s).check2=r)},{default:t(()=>o[7]||(o[7]=[b(" 备选项 ")])),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(U,null,{default:t(()=>[e(y,{type:"primary",onClick:E},{icon:t(()=>[e(h,{name:"i-ep:search"})]),default:t(()=>[o[8]||(o[8]=b(" 筛选 "))]),_:1}),e(S,{data:n(s),name:"box2",title:"我的快捷筛选",onTakeOut:$},{default:t(()=>[e(O,null,{default:t(()=>o[9]||(o[9]=[b(" 保存当前筛选 ")])),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});export{ye as default};
