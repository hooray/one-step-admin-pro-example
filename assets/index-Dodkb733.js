
/**
 * 由 One-step-admin 提供技术支持
 * Powered by One-step-admin
 * https://one-step-admin.hurui.me
 */
    
import{_ as h}from"./index.vue_vue_type_script_setup_true_lang-ChZ28WVx.js";import{_ as L}from"./index.vue_vue_type_script_setup_true_lang-Buj60MwG.js";import{e as $,N as B,f as N,p as V,o as r,c as s,a as e,w as n,r as l,b as i,u as m,d as g,t as p,O as H,_ as I}from"./index-mFYeOg6f.js";const M={key:0},O={key:0},P={key:1},j={style:{"white-space":"pre-wrap"}},D={key:1},F=$({__name:"index",setup(J){const v=B(),k="example",u=N(""),b=V(()=>u.value?[JSON.parse(u.value)]:[]);function f(d){switch(H(()=>{u.value=sessionStorage.getItem("errorLog")||""}),d){case 1:a=abc;break;case 2:testMethod();break}}function w(d){window.open(d,"top")}return(d,t)=>{const E=I,c=l("ElButton"),y=L,T=l("ElTag"),_=l("ElTableColumn"),C=l("ElLink"),x=l("ElTable"),S=h;return r(),s("div",null,[e(y,{title:"错误日志",content:"错误日志通过 Vue 提供的全局错误钩子 errorHandler 进行拦截，如果需要上报给后端，需自行实现"},{default:n(()=>[e(c,{onClick:t[0]||(t[0]=o=>w("https://cn.vuejs.org/api/application.html#app-config-errorhandler"))},{icon:n(()=>[e(E,{name:"i-ep:link"})]),default:n(()=>[t[3]||(t[3]=i(" Vue errorHandler 说明 "))]),_:1})]),_:1}),e(S,null,{default:n(()=>[m(k)!=="development"?(r(),s("div",M,[m(v).settings.app.enableErrorLog?(r(),s("div",P,[e(c,{type:"danger",onClick:t[1]||(t[1]=o=>f(1))},{default:n(()=>t[4]||(t[4]=[i(" 模拟触发错误1 ")])),_:1}),e(c,{type:"danger",onClick:t[2]||(t[2]=o=>f(2))},{default:n(()=>t[5]||(t[5]=[i(" 模拟触发错误2 ")])),_:1}),e(x,{data:m(b),border:""},{default:n(()=>[e(_,{label:"错误信息",width:"200",align:"center"},{default:n(o=>[g("div",null,p(o.row.err.message),1),e(T,{type:"danger"},{default:n(()=>[i(p(o.row.info),1)]),_:2},1024)]),_:1}),e(_,{label:"错误详情"},{default:n(o=>[g("div",j,p(o.row.err.stack),1)]),_:1}),e(_,{label:"错误链接",width:"200",align:"center"},{default:n(o=>[e(C,{href:o.row.url,target:"_blank"},{default:n(()=>[i(p(o.row.url),1)]),_:2},1032,["href"])]),_:1}),e(_,{prop:"datetime",label:"时间",width:"200",align:"center"})]),_:1},8,["data"])])):(r(),s("div",O," 请到 /src/settings.ts 里打开错误日志功能，再进入该页面查看演示 "))])):(r(),s("div",D," 当前为开发环境，该功能关闭演示 "))]),_:1})])}}});export{F as default};
